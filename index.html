<!DOCTYPE html>
<html>
<head>
  <title>Google classroom</title>
  <style>
    body      { font-family: Helvetica, sans-serif; }
    #tetris   { margin: 1em auto; padding: 1em; border: 4px solid black; border-radius: 10px; background-color: #F8F8F8; }
    #stats    { display: inline-block; vertical-align: top; }
    #canvas   { display: inline-block; vertical-align: top; background: url(texture.jpg); box-shadow: 10px 10px 10px #999; border: 2px solid #333; }
    #menu     { display: inline-block; vertical-align: top; position: relative; }
    #menu p   { margin: 0.5em 0; text-align: center; }
    #menu p a { text-decoration: none; color: black; }
    #upcoming { display: block; margin: 0 auto; background-color: #E0E0E0; }
    #score    { color: red; font-weight: bold; vertical-align: middle; }
    #rows     { color: blue; font-weight: bold; vertical-align: middle; }
    #stats    { position: absolute; bottom: 0em; right: 1em; }
    button    { font-size: 1em; padding: 0.3em 1em; }

    @media screen and (min-width:   0px) and (min-height:   0px)  { #tetris { font-size: 0.75em; width: 250px; } #menu { width: 100px; height: 200px; } #upcoming { width:  50px; height:  50px; } #canvas { width: 100px; height: 200px; } }
    @media screen and (min-width: 400px) and (min-height: 400px)  { #tetris { font-size: 1.00em; width: 350px; } #menu { width: 150px; height: 300px; } #upcoming { width:  75px; height:  75px; } #canvas { width: 150px; height: 300px; } }
    @media screen and (min-width: 500px) and (min-height: 500px)  { #tetris { font-size: 1.25em; width: 450px; } #menu { width: 200px; height: 400px; } #upcoming { width: 100px; height: 100px; } #canvas { width: 200px; height: 400px; } }
    @media screen and (min-width: 600px) and (min-height: 600px)  { #tetris { font-size: 1.50em; width: 550px; } #menu { width: 250px; height: 500px; } #upcoming { width: 125px; height: 125px; } #canvas { width: 250px; height: 500px; } }
    @media screen and (min-width: 700px) and (min-height: 700px)  { #tetris { font-size: 1.75em; width: 650px; } #menu { width: 300px; height: 600px; } #upcoming { width: 150px; height: 150px; } #canvas { width: 300px; height: 600px; } }
    @media screen and (min-width: 800px) and (min-height: 800px)  { #tetris { font-size: 2.00em; width: 750px; } #menu { width: 350px; height: 700px; } #upcoming { width: 175px; height: 175px; } #canvas { width: 350px; height: 700px; } }
    @media screen and (min-width: 900px) and (min-height: 900px)  { #tetris { font-size: 2.25em; width: 850px; } #menu { width: 400px; height: 800px; } #upcoming { width: 200px; height: 200px; } #canvas { width: 400px; height: 800px; } }

    .b {
      text-align: center;
      margin-top: 20px;
      font-size: 16px;
    }
  </style>
</head>

<body>
  <div id="tetris">
    <div id="menu">
      <p id="start"><a href="javascript:play();">Press Space to Play.</a></p>
      <p><canvas id="upcoming"></canvas></p>
      <p>score <span id="score">00000</span></p>
      <p>rows <span id="rows">0</span></p>
      <p><button onclick="togglePause()">Pause</button></p>
    </div>
    <canvas id="canvas">
      Sorry, your browser does not support the &lt;canvas&gt; element.
    </canvas>
  </div>

  <script src="stats.js"></script>

  <!-- Cheat + Pause Functionality -->
  <script>
    var paused = false;

    function togglePause() {
      paused = !paused;
      alert(paused ? "Game Paused" : "Game Resumed");
    }

    document.addEventListener('keydown', function(ev) {
      if (ev.shiftKey && ev.key.toUpperCase() === 'A') {
        let input = prompt("ashhubmaker.github.io asks:\\n\\nHow many rows do you want to change it to?");
        let rowsToSet = parseInt(input);
        if (!isNaN(rowsToSet) && rowsToSet >= 0) {
          setRows(rowsToSet);
          setScore(rowsToSet * 100);
          invalidateRows();
          invalidateScore();
          alert(`Cheat activated! Rows set to ${rowsToSet}, Score set to ${rowsToSet * 100}`);
        }
      }
    });
  </script>
  <script>
  // All helper functions, constants, and the full game code
  // (This is the exact logic you had, unmodified except for pause integration)

  function get(id)        { return document.getElementById(id);  }
  function hide(id)       { get(id).style.visibility = 'hidden'; }
  function show(id)       { get(id).style.visibility = null;     }
  function html(id, html) { get(id).innerHTML = html;            }

  function timestamp()           { return new Date().getTime(); }
  function random(min, max)      { return (min + (Math.random() * (max - min))); }
  function randomChoice(choices) { return choices[Math.round(random(0, choices.length-1))]; }

  if (!window.requestAnimationFrame) {
    window.requestAnimationFrame = window.webkitRequestAnimationFrame ||
                                   window.mozRequestAnimationFrame    ||
                                   window.oRequestAnimationFrame      ||
                                   window.msRequestAnimationFrame     ||
                                   function(callback, element) {
                                     window.setTimeout(callback, 1000 / 60);
                                   }
  }

  var KEY     = { ESC: 27, SPACE: 32, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40 },
      DIR     = { UP: 0, RIGHT: 1, DOWN: 2, LEFT: 3, MIN: 0, MAX: 3 },
      stats   = new Stats(),
      canvas  = get('canvas'),
      ctx     = canvas.getContext('2d'),
      ucanvas = get('upcoming'),
      uctx    = ucanvas.getContext('2d'),
      speed   = { start: 0.6, decrement: 0.005, min: 0.1 },
      nx      = 10,
      ny      = 20,
      nu      = 5;

  var dx, dy, blocks, actions, playing, dt, current, next, score, vscore, rows, step;

  var i = { size: 4, blocks: [0x0F00, 0x2222, 0x00F0, 0x4444], color: 'cyan'   };
  var j = { size: 3, blocks: [0x44C0, 0x8E00, 0x6440, 0x0E20], color: 'blue'   };
  var l = { size: 3, blocks: [0x4460, 0x0E80, 0xC440, 0x2E00], color: 'orange' };
  var o = { size: 2, blocks: [0xCC00, 0xCC00, 0xCC00, 0xCC00], color: 'yellow' };
  var s = { size: 3, blocks: [0x06C0, 0x8C40, 0x6C00, 0x4620], color: 'green'  };
  var t = { size: 3, blocks: [0x0E40, 0x4C40, 0x4E00, 0x4640], color: 'purple' };
  var z = { size: 3, blocks: [0x0C60, 0x4C80, 0xC600, 0x2640], color: 'red'    };

  function eachblock(type, x, y, dir, fn) {
    var bit, row = 0, col = 0, blocks = type.blocks[dir];
    for (bit = 0x8000 ; bit > 0 ; bit = bit >> 1) {
      if (blocks & bit) fn(x + col, y + row);
      if (++col === 4) { col = 0; ++row; }
    }
  }

  function occupied(type, x, y, dir) {
    var result = false;
    eachblock(type, x, y, dir, function(x, y) {
      if ((x < 0) || (x >= nx) || (y < 0) || (y >= ny) || getBlock(x,y)) result = true;
    });
    return result;
  }

  function unoccupied(type, x, y, dir) { return !occupied(type, x, y, dir); }

  var pieces = [];
  function randomPiece() {
    if (pieces.length == 0)
      pieces = [i,i,i,i,j,j,j,j,l,l,l,l,o,o,o,o,s,s,s,s,t,t,t,t,z,z,z,z];
    var type = pieces.splice(random(0, pieces.length-1), 1)[0];
    return { type: type, dir: DIR.UP, x: Math.round(random(0, nx - type.size)), y: 0 };
  }

  function run() {
    showStats();
    addEvents();
    var last = now = timestamp();
    function frame() {
      now = timestamp();
      update(Math.min(1, (now - last) / 1000.0));
      draw();
      stats.update();
      last = now;
      requestAnimationFrame(frame, canvas);
    }
    resize();
    reset();
    frame();
  }

  function showStats() {
    stats.domElement.id = 'stats';
    get('menu').appendChild(stats.domElement);
  }

  function addEvents() {
    document.addEventListener('keydown', keydown, false);
    window.addEventListener('resize', resize, false);
  }

  function resize(event) {
    canvas.width   = canvas.clientWidth;
    canvas.height  = canvas.clientHeight;
    ucanvas.width  = ucanvas.clientWidth;
    ucanvas.height = ucanvas.clientHeight;
    dx = canvas.width  / nx;
    dy = canvas.height / ny;
    invalidate();
    invalidateNext();
  }

  function keydown(ev) {
    var handled = false;
    if (playing && !paused) {
      switch(ev.keyCode) {
        case KEY.LEFT:   actions.push(DIR.LEFT);  handled = true; break;
        case KEY.RIGHT:  actions.push(DIR.RIGHT); handled = true; break;
        case KEY.UP:     actions.push(DIR.UP);    handled = true; break;
        case KEY.DOWN:   actions.push(DIR.DOWN);  handled = true; break;
        case KEY.ESC:    lose();                  handled = true; break;
      }
    }
    else if (ev.keyCode == KEY.SPACE) {
      play();
      handled = true;
    }
    if (handled) ev.preventDefault();
  }

  function play() { hide('start'); reset(); playing = true; }
  function lose() { show('start'); setVisualScore(); playing = false; }

  function setVisualScore(n)      { vscore = n || score; invalidateScore(); }
  function setScore(n)            { score = n; setVisualScore(n); }
  function addScore(n)            { score += n; }
  function clearScore()           { setScore(0); }
  function clearRows()            { setRows(0); }
  function setRows(n) {
  rows = n;
  step = speed.start; // âœ… constant speed
  invalidateRows();
}
  function addRows(n)             { setRows(rows + n); }
  function getBlock(x,y)          { return (blocks && blocks[x] ? blocks[x][y] : null); }
  function setBlock(x,y,type)     { blocks[x] = blocks[x] || []; blocks[x][y] = type; invalidate(); }
  function clearBlocks()          { blocks = []; invalidate(); }
  function clearActions()         { actions = []; }
  function reset() {
    blocks    = [];
    actions   = [];
    current   = randomPiece();
    next      = randomPiece();
    score     = 0;
    rows      = 0;
    step      = speed.start;
    clearScore();
    clearRows();
  }

  function invalidate()          { html('score', score); html('rows', rows); }
  function invalidateScore()      { html('score', score); }
  function invalidateRows()       { html('rows', rows); }

  function update(dt) {
    if (playing && !paused) {
      step -= dt;
      if (step <= 0) {
        if (move(DIR.DOWN)) {
          step = speed.start - rows * speed.decrement;
          if (step < speed.min) step = speed.min;
        } else {
          addRows(1);
          current = next;
          next = randomPiece();
          if (occupied(current.type, current.x, current.y, current.dir)) {
            lose();
          }
        }
      }
    }
  }

  function move(dir) {
    var nx = current.x, ny = current.y, ndir = current.dir;
    if (dir === DIR.LEFT)  nx -= 1;
    if (dir === DIR.RIGHT) nx += 1;
    if (dir === DIR.UP)    ndir = (current.dir + 1) % 4;
    if (dir === DIR.DOWN)  ny += 1;
    if (unoccupied(current.type, nx, ny, ndir)) {
      current.x = nx;
      current.y = ny;
      current.dir = ndir;
      invalidate();
      return true;
    }
    return false;
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    eachblock(current.type, current.x, current.y, current.dir, function(x, y) {
      ctx.fillStyle = current.type.color;
      ctx.fillRect(x * dx, y * dy, dx, dy);
    });
  }
  </script>

  <!-- New section added -->
  <div class="b">
    <p>Hello</p>
    <p>Made by Jinhao.O</p>
    <p>If anyone from MMS is reading this please donate money :3</p>
  </div>
</body>
</html>
